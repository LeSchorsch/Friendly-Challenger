<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sport App</title>
  <link rel="manifest" href="manifest.json" />
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f6fa;
    }
    header {
      background: #3498db;
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 1.2rem;
    }
    .page {
      display: none;
      padding: 1rem;
    }
    .active {
      display: block;
    }
    /* Bottom Navigation */
    nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      justify-content: space-around;
      background: #ecf0f1;
      border-top: 1px solid #ccc;
      padding: 0.5rem 0;
    }
    nav button {
      background: none;
      border: none;
      font-size: 1rem;
      cursor: pointer;
    }
    nav button.active {
      color: #3498db;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>Meine Sport App</header>

  <!-- Seite 1: Aktivit√§t hinzuf√ºgen -->
  <div id="page1" class="page active">
    <h2>Aktivit√§t hinzuf√ºgen</h2>
    <button onclick="openActivityForm()">+ Aktivit√§t hinzuf√ºgen</button>

    <div id="activityForm" style="display:none; margin-top:1rem;">
      <label>1. W√§hle Aktivit√§t:</label><br>
      <select id="activitySelect">
        <option>Laufen</option>
        <option>Radfahren</option>
        <option>Schwimmen</option>
        <option>Wandern</option>
      </select><br><br>

      <label>2. Dauer (in Minuten):</label><br>
      <input type="range" id="duration" min="10" max="600" step="10" value="30">
      <span id="durationValue">30</span> Minuten<br><br>

      <label>3. Mit anderen zusammen?</label>
      <input type="checkbox" id="withOthers"><br><br>

      <button onclick="saveActivity()">Speichern</button>
    </div>
  </div>

  <!-- Seite 2: Rangliste -->
  <div id="page2" class="page">
    <h2>Rangliste</h2>
    <select id="rankingMode" onchange="renderRanking()">
      <option value="kalorien">Kalorien</option>
      <option value="spass">Spa√ü</option>
      <option value="gesamt">Gesamtpunkte</option>
    </select>
    <table border="1" width="100%" style="margin-top:1rem;">
      <thead>
        <tr><th>Platz</th><th>Name</th><th>Punkte</th></tr>
      </thead>
      <tbody id="rankingTable"></tbody>
    </table>
  </div>

  <!-- Seite 3: Eigene Aktivit√§ten -->
  <div id="page3" class="page">
    <h2>Meine Aktivit√§ten</h2>
    <ul id="myActivities"></ul>
  </div>

  <!-- Seite 4: Einstellungen/Platzhalter -->
  <div id="page4" class="page">
    <h2>Einstellungen</h2>
    <p>Hier kannst du sp√§ter Gruppen, Farben, Layout etc. anpassen.</p>
  </div>

  <!-- Navigation unten -->
  <nav>
    <button onclick="showPage(1)" class="active">‚ûï</button>
    <button onclick="showPage(2)">üèÜ</button>
    <button onclick="showPage(3)">üìÖ</button>
    <button onclick="showPage(4)">‚öôÔ∏è</button>
  </nav>

  <script>
    // Seitenumschaltung
    function showPage(n) {
      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById("page"+n).classList.add("active");
      document.querySelectorAll("nav button").forEach(b => b.classList.remove("active"));
      document.querySelectorAll("nav button")[n-1].classList.add("active");
    }

    // Formular √∂ffnen
    function openActivityForm() {
      document.getElementById("activityForm").style.display = "block";
    }

    // Dauer-Anzeige aktualisieren
    document.getElementById("duration").addEventListener("input", function() {
      document.getElementById("durationValue").textContent = this.value;
    });

    // Daten-Speicher
    let activities = [];

    function saveActivity() {
      let activity = document.getElementById("activitySelect").value;
      let duration = parseInt(document.getElementById("duration").value);
      let withOthers = document.getElementById("withOthers").checked;

      // Punkteberechnung (simplifiziert)
      let punkte = duration / 10; // 1 Punkt pro 10 Minuten
      if (withOthers) punkte += 5;

      activities.push({activity, duration, withOthers, punkte});

      // In Liste anzeigen
      let li = document.createElement("li");
      li.textContent = `${activity} ‚Äì ${duration} Min ‚Äì ${punkte} Punkte`;
      document.getElementById("myActivities").appendChild(li);

      // Reset
      document.getElementById("activityForm").style.display = "none";
    }

    // Dummy-Rangliste
    let users = [
      {name: "Anna", punkte: 120},
      {name: "Ben", punkte: 90},
      {name: "Clara", punkte: 150}
    ];

    function renderRanking() {
      let mode = document.getElementById("rankingMode").value;
      let sorted = [...users].sort((a,b)=>b.punkte-a.punkte);
      let table = document.getElementById("rankingTable");
      table.innerHTML = "";
      sorted.forEach((u,i)=>{
        let row = `<tr><td>${i+1}</td><td>${u.name}</td><td>${u.punkte}</td></tr>`;
        table.innerHTML += row;
      });
    }
    renderRanking();
  </script>
</body>
</html>
